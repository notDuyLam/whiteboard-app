<?xml version="1.0" encoding="utf-8"?>
<Window
    x:Class="whiteboard_app.MainWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:whiteboard_app"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Title="Whiteboard App">

    <Window.SystemBackdrop>
        <MicaBackdrop />
    </Window.SystemBackdrop>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition Height="*" />
        </Grid.RowDefinitions>

        <!-- Custom TitleBar -->
        <Grid x:Name="AppTitleBar" Grid.Row="0" Height="32">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="*" />
                <ColumnDefinition Width="Auto" />
            </Grid.ColumnDefinitions>

            <TextBlock 
                Grid.Column="0"
                x:Name="AppTitle"
                Text="Whiteboard App"
                VerticalAlignment="Center"
                Margin="12,0,0,0"
                Style="{StaticResource CaptionTextBlockStyle}" />

            <Grid Grid.Column="2" x:Name="DragRegion">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*" />
                    <ColumnDefinition Width="Auto" />
                </Grid.ColumnDefinitions>
            </Grid>
        </Grid>

        <!-- NavigationView -->
        <NavigationView 
            x:Name="RootNavigationView"
            Grid.Row="1"
            IsBackButtonVisible="Auto"
            IsSettingsVisible="False"
            PaneDisplayMode="Auto"
            IsPaneOpen="True"
            BackRequested="RootNavigationView_BackRequested"
            ItemInvoked="RootNavigationView_ItemInvoked"
            DisplayModeChanged="RootNavigationView_DisplayModeChanged"
            PaneClosing="RootNavigationView_PaneClosing"
            PaneOpening="RootNavigationView_PaneOpening">
            <NavigationView.MenuItems>
                <NavigationViewItem 
                    x:Name="HomeNavItem"
                    Content="Home"
                    Icon="Home"
                    Tag="Home" />
                <NavigationViewItem 
                    x:Name="DrawingNavItem"
                    Content="Drawing"
                    Icon="Edit"
                    Tag="Drawing" />
                <NavigationViewItem 
                    x:Name="ManagementNavItem"
                    Content="Management"
                    Icon="Folder"
                    Tag="Management" />
            </NavigationView.MenuItems>
            <NavigationView.Content>
                <Frame x:Name="ContentFrame" />
            </NavigationView.Content>
        </NavigationView>
    </Grid>
</Window>
