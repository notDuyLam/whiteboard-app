<Page
    x:Class="whiteboard_app.Views.DrawingPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controls="using:whiteboard_app.Controls"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d"
    Background="{ThemeResource ApplicationPageBackgroundThemeBrush}">

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        
        <!-- Save Notification InfoBar -->
        <InfoBar
            x:Name="SaveNotificationInfoBar"
            Grid.ColumnSpan="2"
            VerticalAlignment="Top"
            HorizontalAlignment="Center"
            Margin="0,10,0,0"
            IsOpen="False"
            Title="Save Status"
            Severity="Success" />

        <!-- Drawing Tools Panel -->
        <Border
            Grid.Column="0"
            Background="{ThemeResource CardBackgroundFillColorDefaultBrush}"
            BorderBrush="{ThemeResource CardStrokeColorDefaultBrush}"
            BorderThickness="0,0,1,0"
            Width="200">
            <ScrollViewer>
                <StackPanel Spacing="12" Padding="16">
                    <TextBlock
                        Text="Drawing Tools"
                        Style="{StaticResource SubtitleTextBlockStyle}"
                        FontWeight="SemiBold" />
                    
                    <!-- Line Tool -->
                    <Button
                        x:Name="LineToolButton"
                        Click="LineToolButton_Click"
                        HorizontalAlignment="Stretch">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE70F;" FontSize="16" />
                            <TextBlock Text="Line" />
                        </StackPanel>
                    </Button>
                    
                    <!-- Rectangle Tool -->
                    <Button
                        x:Name="RectangleToolButton"
                        Click="RectangleToolButton_Click"
                        HorizontalAlignment="Stretch">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE790;" FontSize="16" />
                            <TextBlock Text="Rectangle" />
                        </StackPanel>
                    </Button>
                    
                    <!-- Oval Tool -->
                    <Button
                        x:Name="OvalToolButton"
                        Click="OvalToolButton_Click"
                        HorizontalAlignment="Stretch">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE7C3;" FontSize="16" />
                            <TextBlock Text="Oval" />
                        </StackPanel>
                    </Button>
                    
                    <!-- Circle Tool -->
                    <Button
                        x:Name="CircleToolButton"
                        Click="CircleToolButton_Click"
                        HorizontalAlignment="Stretch">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE7C4;" FontSize="16" />
                            <TextBlock Text="Circle" />
                        </StackPanel>
                    </Button>
                    
                    <!-- Triangle Tool -->
                    <Button
                        x:Name="TriangleToolButton"
                        Click="TriangleToolButton_Click"
                        HorizontalAlignment="Stretch">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE7C5;" FontSize="16" />
                            <TextBlock Text="Triangle" />
                        </StackPanel>
                    </Button>
                    
                    <!-- Polygon Tool -->
                    <Button
                        x:Name="PolygonToolButton"
                        Click="PolygonToolButton_Click"
                        HorizontalAlignment="Stretch">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE7C6;" FontSize="16" />
                            <TextBlock Text="Polygon" />
                        </StackPanel>
                    </Button>
                    
                    <!-- Stroke Configuration -->
                    <TextBlock
                        Text="Stroke Settings"
                        Style="{StaticResource SubtitleTextBlockStyle}"
                        FontWeight="SemiBold"
                        Margin="0,12,0,0" />
                    
                    <!-- Stroke Style -->
                    <ComboBox
                        x:Name="StrokeStyleComboBox"
                        Header="Stroke Style"
                        SelectionChanged="StrokeStyleComboBox_SelectionChanged">
                        <ComboBoxItem Content="Solid" Tag="Solid" />
                        <ComboBoxItem Content="Dash" Tag="Dash" />
                        <ComboBoxItem Content="Dot" Tag="Dot" />
                    </ComboBox>
                    
                    <!-- Stroke Color -->
                    <TextBox
                        x:Name="StrokeColorTextBox"
                        Header="Stroke Color (Hex)"
                        Text="#000000"
                        TextChanged="StrokeColorTextBox_TextChanged" />
                    
                    <!-- Stroke Thickness -->
                    <Slider
                        x:Name="StrokeThicknessSlider"
                        Header="Stroke Thickness"
                        Minimum="1"
                        Maximum="20"
                        Value="2"
                        TickFrequency="1"
                        ValueChanged="StrokeThicknessSlider_ValueChanged" />
                    <TextBlock
                        x:Name="StrokeThicknessTextBlock"
                        Text="2"
                        HorizontalAlignment="Center" />
                    
                    <!-- Fill Color -->
                    <TextBox
                        x:Name="FillColorTextBox"
                        Header="Fill Color (Hex or Transparent)"
                        Text="Transparent"
                        PlaceholderText="Transparent or #RRGGBB"
                        TextChanged="FillColorTextBox_TextChanged" />
                    
                    <!-- Selection Mode -->
                    <TextBlock
                        Text="Selection and Editing"
                        Style="{StaticResource SubtitleTextBlockStyle}"
                        FontWeight="SemiBold"
                        Margin="0,12,0,0" />
                    
                    <ToggleSwitch
                        x:Name="SelectionModeToggle"
                        Header="Selection Mode"
                        Toggled="SelectionModeToggle_Toggled" />
                    
                    <!-- Edit Selected Shape -->
                    <Button
                        x:Name="EditShapeButton"
                        Content="Edit Selected Shape"
                        Click="EditShapeButton_Click"
                        IsEnabled="False"
                        HorizontalAlignment="Stretch" />
                    
                    <!-- Delete Selected Shape -->
                    <Button
                        x:Name="DeleteShapeButton"
                        Content="Delete Selected Shape"
                        Click="DeleteShapeButton_Click"
                        IsEnabled="False"
                        HorizontalAlignment="Stretch" />
                    
                    <!-- Canvas Actions -->
                    <TextBlock
                        Text="Canvas Actions"
                        Style="{StaticResource SubtitleTextBlockStyle}"
                        FontWeight="SemiBold"
                        Margin="0,12,0,0" />
                    
                    <!-- Save Canvas Button -->
                    <Button
                        x:Name="SaveCanvasButton"
                        Content="Save Canvas"
                        Click="SaveCanvasButton_Click"
                        HorizontalAlignment="Stretch"
                        Style="{StaticResource AccentButtonStyle}">
                        <StackPanel Orientation="Horizontal" Spacing="8">
                            <FontIcon Glyph="&#xE74E;" FontSize="16" />
                            <TextBlock Text="Save Canvas" />
                        </StackPanel>
                    </Button>
                </StackPanel>
            </ScrollViewer>
        </Border>

        <!-- Drawing Canvas -->
        <ScrollViewer
            Grid.Column="1"
            ZoomMode="Enabled"
            HorizontalScrollBarVisibility="Auto"
            VerticalScrollBarVisibility="Auto">
            <controls:DrawingCanvas
                x:Name="DrawingCanvasControl"
                BackgroundColor="#FFFFFF"
                IsHitTestVisible="True" />
        </ScrollViewer>
    </Grid>
</Page>

